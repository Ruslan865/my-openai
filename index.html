<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8">
  <title>Al AI – Apisiz Mini Ağıllı Köməkçi</title>
  <style>
    body { font-family: sans-serif; padding: 30px; background: #f4f4f4; }
    input, button { padding: 10px; margin: 5px; width: 300px; }
    #response { margin-top: 20px; padding: 20px; background: #fff; border-radius: 10px; box-shadow: 0 0 5px #ccc; }
  </style>
</head>
<body>
  <h2>Salam! Sual ver:</h2>
  <input type="text" id="userInput" placeholder="Məsələn: Günəş nədir?">
  <button onclick="searchWeb()">Cavab Axtar</button>

  <div id="response">Burada cavab görünəcək</div>

  <script>
    async function searchWeb() {
      const query = document.getElementById("userInput").value;
      const url = `https://api.allorigins.win/raw?url=https://duckduckgo.com/html/?q=${encodeURIComponent(query)}`;

      const responseDiv = document.getElementById("response");
      responseDiv.innerHTML = "Axtarılır...";

      try {
        const res = await fetch(url);
        const html = await res.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const results = doc.querySelectorAll(".result__snippet");
        let output = "";
        results.forEach((el, index) => {
          if (index < 3) output += `<p>${el.innerText}</p>`;
        });

        responseDiv.innerHTML = output || "Cavab tapılmadı.";
      } catch (err) {
        responseDiv.innerHTML = "Xəta baş verdi və ya bağlantı bloklandı.";
      }
    }
  </script>
</body>
</html>
